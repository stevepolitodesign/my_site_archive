<!DOCTYPE html>
<html>
  <head>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= tag.meta name: "viewport", content: "width=device-width, initial-scale=1, shrink-to-fit=no" %>
    <%= tag.meta name: "stripe-key", content: Rails.application.credentials.dig(:stripe, :public_key) %>
    <%= favicon_link_tag %>
    
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'https://js.stripe.com/v3/' %>
    <%= display_meta_tags site: 'My Site Archive' %>
    <%= render partial: "shared/canonical" if is_blog_post? %>
    <%= render partial: "shared/google_analytics" %>
    <%= render partial: "shared/schema_dot_org" if @schema.present? %>
    <%= render partial: "shared/auto_discovery" %>
  </head>

  <body class="bg-dark">
    <%= render "shared/flash" %>
    <%= render partial: "shared/nav" %>
    <section class="bg-gray-200 overflow-auto">
      <div class="container">
        <%= render partial: "shared/free_trial_expiration" if current_user && (current_user.on_generic_trial? && !current_user.subscribed?) %>
      </div>
    </section>
    <main class="py-5 bg-gray-100">
        <div class="container">
          <div class="pb-5">
            <%= render partial: "shared/page_title" %>
            <%= render partial: "shared/sub_head" %>
          </div>
          <%= yield %>
        </div>
    </main>
    <footer class="py-5">
      <div class="container">
        <%= render partial: "shared/footer" %>
      </div>
    </footer>
  </body>
</html>
